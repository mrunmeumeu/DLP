# VulnerabilityAssessmentP Component

**File Path:** [`src/Listing/VA/VulnerabilityAssessment.jsx`](https://github.com/mrunmeumeu/DLP/blob/ADMIN_FRONTEND/src/Listing/VA/VulnerabilityAssessment.jsx)

## **Purpose**
The `VulnerabilityAssessmentP` component is a client-specific page designed for managing and viewing vulnerability assessment results for a specific client identified by their IP address. It allows the admin to:
- Run vulnerability scans on the client.
- View client-specific details and logs.
- Manage and analyze assessment logs.

---

## **Imported Dependencies**
Below are the imported components and their purposes:

1. **[`Sidebar`](https://github.com/mrunmeumeu/DLP/blob/ADMIN_FRONTEND/src/Listing/VA/Sidebar.jsx)**
   - **Purpose:** Provides navigation options for the client-specific features like USB Monitoring, Keyword Management, and Vulnerability Scans.

2. **[`MainContent`](https://github.com/mrunmeumeu/DLP/blob/ADMIN_FRONTEND/src/Listing/VA/MainContent.jsx)**
   - **Purpose:** Handles the core functionality, including:
     - Fetching client details.
     - Running vulnerability scans.
     - Viewing and managing logs.

3. **CSS Modules**
   - **File:** [`VulnerabilityAssessment.module.css`](https://github.com/mrunmeumeu/DLP/blob/ADMIN_FRONTEND/src/Listing/VA/VulnerabilityAssessment.module.css)
   - **Purpose:** Provides styles for the `VulnerabilityAssessmentP` component and its child components.

---

## **Features**

### **1. Client Details Display**
- Fetches and displays detailed client information such as:
  - IP address.
  - Device ID.
  - Username.
  - Windows version.
  - Status.

### **2. Run Vulnerability Assessment Scan**
- Allows the admin to initiate a vulnerability assessment scan for the client.
- Displays a button that triggers the scan via the backend server.

### **3. Log Management**
- Lists available logs retrieved from the server.
- Displays the content of a selected log file dynamically.
- Allows toggling between viewing and hiding logs.

### **4. Dynamic Navigation**
- The sidebar dynamically generates links based on the client's IP address for:
  - Dashboard
  - USB Monitoring
  - Keyword Management
  - Executable Monitoring
  - Vulnerability Assessments

---

## **Communication**

### **Server Communication**
The component communicates with the Flask backend to perform the following actions:

1. **Fetch Client Details:**
   - **Endpoint:** [`http://localhost:5000/client/<ip>`](http://localhost:5000/client/)
   - **Purpose:** Retrieves client-specific information based on the provided IP address.
   - **Response Structure:**
     ```json
     {
       "ip": "192.168.1.2",
       "client_id": "12345",
       "user_name": "John Doe",
       "device_id": "PC-001",
       "windows_version": "Windows 10",
       "status": "Connected"
     }
     ```

2. **Run Vulnerability Scan:**
   - **Endpoint:** [`http://localhost:5000/run-vulnerability-scan`](http://localhost:5000/run-vulnerability-scan)
   - **Payload:**
     ```json
     {
       "client_ids": ["<client_ip>:5001"]
     }
     ```
   - **Purpose:** Initiates a vulnerability scan for the client.

3. **Fetch Logs:**
   - **Endpoint:** [`http://localhost:5000/list-logs`](http://localhost:5000/list-logs)
   - **Purpose:** Retrieves a list of available log files.
   - **Response Structure:**
     ```json
     {
       "logFiles": ["log1.txt", "log2.txt"]
     }
     ```

4. **View Log Content:**
   - **Endpoint:** [`http://localhost:5000/view-logs`](http://localhost:5000/view-logs)
   - **Parameters:** `filename` (name of the log file)
   - **Purpose:** Retrieves the content of a specific log file.

---

## **Component Features**

### **Sidebar**
- Provides navigation options for the client-specific features.
- Links include:
  - Dashboard
  - USB Monitoring
  - Keyword Management
  - Executable Monitoring
  - Vulnerability Assessments

### **Main Content**
- **Client Details:** Displays client-specific information in a table format.
- **Vulnerability Scan:** Initiates a vulnerability scan for the selected client.
- **Log Management:**
  - Displays a list of available logs.
  - Allows viewing the content of selected log files.

---

## **Future Enhancements**
1. Add a feature to download log files.
2. Provide real-time progress updates for vulnerability scans.
3. Include visual representations (charts or graphs) for the scan results.

---

This documentation provides a detailed overview of the **VulnerabilityAssessmentP** component, including its features, imported dependencies, and communication mechanisms.
