# VulnerabilityAssessment Component

**File Path:** [`src/VA/VulnerabilityAssessment.jsx`](https://github.com/mrunmeumeu/DLP/blob/ADMIN_FRONTEND/src/VA/VulnerabilityAssessment.jsx)

## **Purpose**
The `VulnerabilityAssessment` component provides an admin interface to:
- Initiate and manage vulnerability scans on connected clients.
- Select multiple clients for simultaneous scans.
- View and manage scan logs directly from the admin dashboard.

---

## **Imported Dependencies**
Below are the imported components and their purposes:

1. **[`Sidebar`](https://github.com/mrunmeumeu/DLP/blob/ADMIN_FRONTEND/src/VA/Sidebar.jsx)**
   - **Purpose:** Provides a navigation menu to access other features of the application.

2. **[`MainContent`](https://github.com/mrunmeumeu/DLP/blob/ADMIN_FRONTEND/src/VA/MainContent.jsx)**
   - **Purpose:** Handles the core functionality for running vulnerability scans, managing client selections, and viewing log files.

3. **CSS Modules**
   - **File:** [`VulnerabilityAssessment.module.css`](https://github.com/mrunmeumeu/DLP/blob/ADMIN_FRONTEND/src/VA/VulnerabilityAssessment.module.css)
   - **Purpose:** Provides styles for the `VulnerabilityAssessment` component.

---

## **Features**
- **Client Selection:**
  - Displays a list of connected clients with checkboxes for multi-selection.
  - Allows administrators to select specific clients to perform scans.

- **Vulnerability Scans:**
  - Initiates vulnerability scans on selected clients via the backend API.
  - Provides real-time feedback on the initiation of scans.

- **Log Management:**
  - Fetches and displays a list of available scan logs from the admin server.
  - Allows toggling the visibility of log files.

- **Sidebar Navigation:**
  - Provides quick access to other features of the application.

---

## **Communication**

### **Server Communication**
The `VulnerabilityAssessment` component interacts with the backend server (Flask API) for:

1. **Fetching Connected Clients:**
   - **Endpoint:** [`http://localhost:5000/scan-network`](http://localhost:5000/scan-network)
   - **Purpose:** Retrieves a list of clients on the network with details such as IP address and username.
   - **Response Structure:**
     ```json
     [
       {
         "ip": "192.168.0.1",
         "user_name": "Device001"
       },
       ...
     ]
     ```

2. **Running Vulnerability Scans:**
   - **Endpoint:** [`http://localhost:5000/run-vulnerability-scan`](http://localhost:5000/run-vulnerability-scan)
   - **Method:** `POST`
   - **Payload Structure:**
     ```json
     {
       "client_ids": ["192.168.0.1", "192.168.0.2"]
     }
     ```
   - **Purpose:** Initiates a vulnerability scan on the selected clients.

3. **Fetching Log Files:**
   - **Endpoint:** [`http://localhost:5000/list-logs`](http://localhost:5000/list-logs)
   - **Method:** `GET`
   - **Purpose:** Retrieves a list of available scan log files.
   - **Response Structure:**
     ```json
     {
       "logFiles": ["log1.txt", "log2.txt", ...]
     }
     ```

---

## **Component Features**

### **1. Client Table**
- Displays a list of connected clients with their IP addresses and names.
- Allows selection of multiple clients using checkboxes.

### **2. Vulnerability Scans**
- Provides a button to initiate scans on selected clients.
- Sends the list of selected clients to the backend for processing.

### **3. Log Management**
- Fetches available log files from the server.
- Displays the logs in a collapsible UI for easier management.

---

## **Future Enhancements**
1. Display real-time scan progress and results for each client.
2. Add filtering and sorting options to the client table.
3. Provide download links for log files to allow admins to save reports locally.

---

This documentation provides a detailed guide to understanding the **VulnerabilityAssessment** component, including its features, structure, and backend communication.

